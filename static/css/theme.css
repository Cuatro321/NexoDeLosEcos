/* ===== VARIABLES Y TOKENS ===== */
:root {
  --coal:#0b0f14; --ink:#0f1520; --text:#e6e6ea; --line:rgba(255,255,255,.12);
  --accent:#d2b26a; --brand:#a88bd4;

  --space-xs:.5rem; --space-sm:1rem; --space-md:1.5rem; --space-lg:2rem; --space-xl:3rem;
  --radius-sm:.5rem; --radius-md:.75rem; --radius-lg:1rem;

  --transition-fast:.2s ease; --transition-normal:.3s ease; --transition-slow:.5s ease;
}

/* Temas por dominio */
html[data-domain="cenizas"] { --accent:#e66b2f; --brand:#ff9966; }
html[data-domain="vientos"] { --accent:#69c3d0; --brand:#8ee3ef; }
html[data-domain="piedra"]  { --accent:#8b8f9a; --brand:#b6bac5; }
html[data-domain="niebla"]  { --accent:#a88bd4; --brand:#c9b3ee; }
html[data-domain="tiempo"]  { --accent:#d2b26a; --brand:#f2dfa9; }

/* ===== BASE Y RESET ===== */
*{ box-sizing:border-box; margin:0; padding:0 }
html,body{ height:100% }
body{
  background:var(--coal); color:var(--text);
  font-family: ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
  line-height:1.6; overflow-x:hidden;
}

/* ===== HEADER ===== */
.nexo-header{ position:sticky; top:0; z-index:50; background:rgba(11,15,20,.85);
  border-bottom:1px solid var(--line); backdrop-filter:blur(10px);
  transition:all var(--transition-normal); transform:translateY(0) }
.nexo-header.scrolled{ background:rgba(11,15,20,.95); border-bottom-color:rgba(255,255,255,.15); box-shadow:0 4px 20px rgba(0,0,0,.3) }
.nexo-header.hidden{ transform:translateY(-100%) }
.nexo-header-inner{ max-width:1200px; margin:0 auto; padding:var(--space-sm) var(--space-md);
  display:flex; align-items:center; justify-content:space-between; gap:var(--space-md) }

.logo-link{ display:flex; align-items:center; gap:var(--space-sm); text-decoration:none; color:var(--text); transition:var(--transition-fast); position:relative }
.logo-link::after{ content:''; position:absolute; bottom:-2px; left:0; width:0; height:2px; background:linear-gradient(90deg,var(--accent),var(--brand)); transition:width var(--transition-normal) }
.logo-link:hover::after{ width:100% }
.logo-link:hover{ color:var(--accent) }
.logo-mark{ width:42px; height:42px; transition:var(--transition-normal); filter:none!important; mix-blend-mode:normal!important }
.logo-text{ font-weight:700; letter-spacing:.02em; font-size:1.1rem }

.nav{ position:relative }
.nav-toggle{ display:none; background:transparent; color:var(--text); border:1px solid var(--line);
  border-radius:var(--radius-sm); padding:var(--space-xs) var(--space-sm); cursor:pointer; transition:var(--transition-fast); position:relative; overflow:hidden }
.nav-toggle::before{ content:''; position:absolute; top:0; left:-100%; width:100%; height:100%; background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent); transition:left var(--transition-slow) }
.nav-toggle:hover::before{ left:100% }
.nav-toggle:hover{ background:rgba(255,255,255,.05); border-color:var(--accent) }

.nav-list{ display:flex; gap:var(--space-xs); list-style:none; margin:0; padding:0; align-items:center }

.nav-link{
  position:relative; display:inline-flex; align-items:center; padding:var(--space-xs) var(--space-md);
  border-radius:var(--radius-md); border:1px solid var(--line); color:var(--text); text-decoration:none; background:transparent;
  transition:all var(--transition-fast); font-weight:600; overflow:hidden
}
.nav-link::before{ content:''; position:absolute; top:0; left:-100%; width:100%; height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.05),transparent); transition:left var(--transition-slow) }
.nav-link:hover::before{ left:100% }
.nav-link:hover{ background:rgba(255,255,255,.08); border-color:var(--accent); transform:translateY(-1px); box-shadow:0 4px 12px rgba(0,0,0,.2) }

/* ACTIVO (sin “puntito” ni chevron) */
.nav-link.is-active{
  background:linear-gradient(180deg,rgba(255,255,255,.16),rgba(255,255,255,.08));
  border-color:color-mix(in oklab,var(--accent) 65%,transparent);
  color:#fff;
  box-shadow:inset 0 0 0 2px color-mix(in oklab,var(--accent) 40%,transparent),0 10px 26px color-mix(in oklab,var(--brand) 20%,transparent);
  transform:translateY(-1px)
}
.nav-link.is-active .nav-pill::after,
.nav-link.is-active .nav-pill::before{ content:none }

/* ===== BOTONES ===== */
.cta{
  display:inline-flex; align-items:center; justify-content:center; gap:.6rem;
  padding:.78rem 1.2rem; border-radius:1rem; text-decoration:none;
  background:linear-gradient(135deg,var(--accent),var(--brand));
  color:#0c0f14; font-weight:900; letter-spacing:.02em; border:none; cursor:pointer;
  transition:all var(--transition-normal); position:relative; overflow:hidden
}
.cta::before{ content:''; position:absolute; top:0; left:-100%; width:100%; height:100%; background:linear-gradient(90deg,transparent,rgba(255,255,255,.28),transparent); transition:left var(--transition-slow) }
.cta:hover::before{ left:100% }
.cta:hover{ transform:translateY(-2px) scale(1.01); box-shadow:0 14px 34px rgba(0,0,0,.28) }

.btn-ghost{
  display:inline-flex; align-items:center; gap:.55rem; padding:.62rem 1.05rem; border-radius:.95rem;
  color:var(--text); border:1px solid var(--line); text-decoration:none; background:rgba(255,255,255,.02);
  transition:all var(--transition-fast)
}
.btn-ghost:hover{ background:rgba(255,255,255,.08); border-color:color-mix(in oklab,var(--accent) 50%,transparent); transform:translateY(-2px) }

/* Botón estilo LoL */
.lol-button{
  display:inline-flex; align-items:center; justify-content:center; padding:1rem 2.5rem;
  background:linear-gradient(135deg,#0a8cbf,#1c5f8a); color:#fff; font-weight:800; font-size:1.125rem;
  border:none; border-radius:6px; position:relative; overflow:hidden; cursor:pointer; letter-spacing:.06em;
  box-shadow:0 4px 15px rgba(10,140,191,.4); text-transform:uppercase; min-width:180px; transition:all .3s ease
}
.lol-button::before{ content:''; position:absolute; top:0; left:-100%; width:100%; height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent); transition:left .5s ease }
.lol-button:hover::before{ left:100% }
.lol-button:hover{ transform:translateY(-2px); box-shadow:0 8px 25px rgba(10,140,191,.6); background:linear-gradient(135deg,#0a9cd4,#1c6fa0) }
.lol-button-text{ position:relative; z-index:2 }
.lol-button-shine{ position:absolute; top:0; left:-100%; width:50%; height:100%; background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent); transform:skewX(-25deg); transition:left .75s ease }
.lol-button:hover .lol-button-shine{ left:150% }

/* ===== MAIN/SECCIONES ===== */
.nexo-container{ max-width:1200px; margin:0 auto; padding:var(--space-lg); position:relative; z-index:2; min-height:calc(100vh - 140px) }
.section{ margin:var(--space-xl) 0; padding:var(--space-xl); border-radius:var(--radius-lg); border:1px solid var(--line);
  background:linear-gradient(145deg,rgba(255,255,255,.03),rgba(255,255,255,.01)); backdrop-filter:blur(10px); box-shadow:0 8px 32px rgba(0,0,0,.2); position:relative; overflow:hidden }
.section::before{ content:''; position:absolute; top:0; left:0; right:0; height:1px; background:linear-gradient(90deg,transparent,var(--accent),transparent) }

.card{ background:linear-gradient(145deg,rgba(255,255,255,.04),rgba(255,255,255,.02)); padding:var(--space-lg); border-radius:var(--radius-md); border:1px solid var(--line);
  backdrop-filter:blur(10px); transition:all var(--transition-normal); position:relative; overflow:hidden }
.card::before{ content:''; position:absolute; top:0; left:0; right:0; height:1px; background:linear-gradient(90deg,transparent,var(--accent),transparent) }
.card:hover{ transform:translateY(-4px); border-color:var(--accent); box-shadow:0 12px 40px rgba(0,0,0,.25) }
.card-title{ font-size:1.25rem; font-weight:700; color:#fff; margin-bottom:var(--space-sm); display:flex; align-items:center; gap:var(--space-xs) }

.concept-grid{ display:grid; gap:var(--space-lg); grid-template-columns:repeat(auto-fit,minmax(320px,1fr)) }
.concept-card{ background:linear-gradient(145deg,rgba(255,255,255,.04),rgba(255,255,255,.02)); padding:var(--space-lg); border-radius:var(--radius-md); border:1px solid var(--line); text-decoration:none; color:var(--text);
  transition:all var(--transition-normal); position:relative; overflow:hidden }
.concept-card::before{ content:''; position:absolute; top:0; left:-100%; width:100%; height:100%; background:linear-gradient(90deg,transparent,rgba(255,255,255,.05),transparent); transition:left var(--transition-slow) }
.concept-card:hover::before{ left:100% }
.concept-card:hover{ transform:translateY(-3px); border-color:var(--accent); box-shadow:0 10px 30px rgba(0,0,0,.2) }

/* Tags */
.tag{ display:inline-flex; align-items:center; background:linear-gradient(135deg,var(--accent),var(--brand)); color:var(--coal);
  padding:.25rem .75rem; border-radius:9999px; font-size:.75rem; font-weight:600; margin:.25rem .5rem .25rem 0; box-shadow:0 2px 8px rgba(0,0,0,.2); transition:transform var(--transition-fast) }
.tag:hover{ transform:scale(1.05) }

/* ===== HERO ===== */
.hero{ position:relative; overflow:hidden; border-radius:var(--radius-lg); border:1px solid var(--line); margin:var(--space-xl) 0; min-height:85vh; display:flex; align-items:center; box-shadow:0 20px 60px rgba(0,0,0,.3) }
.hero-media{ position:absolute; inset:0; z-index:0 }
.hero-video{ width:100%; height:100%; object-fit:cover; display:block; filter:saturate(1.1) contrast(1.1) brightness(0.9); animation:video-fade-in 1.4s ease-out }
@keyframes video-fade-in{ from{opacity:0; transform:scale(1.04)} to{opacity:1; transform:scale(1)} }
.hero-overlay{ position:absolute; inset:0; background:radial-gradient(ellipse at center, rgba(0,0,0,.25) 0%, rgba(0,0,0,.6) 100%) }
.hero-content{ position:relative; z-index:1; text-align:center; padding:var(--space-xl); max-width:900px; margin:0 auto }
.hero-title{ font-size:clamp(2.5rem,5vw,4rem); line-height:1.1; font-weight:800; margin:var(--space-sm) 0 var(--space-md);
  text-shadow:0 0 30px color-mix(in oklab,var(--accent) 40%,transparent); animation:title-glow 3s ease-in-out infinite alternate }
@keyframes title-glow{ from{ text-shadow:0 0 20px color-mix(in oklab,var(--accent) 30%,transparent) } to{ text-shadow:0 0 30px color-mix(in oklab,var(--accent) 50%,transparent),0 0 60px color-mix(in oklab,var(--brand) 20%,transparent) } }
.hero-sub{ color:rgba(255,255,255,.9); font-size:1.25rem; line-height:1.6; margin:0 auto var(--space-lg); max-width:600px }
.hero-cta{ display:flex; gap:var(--space-md); justify-content:center; margin-top:var(--space-lg); flex-wrap:wrap; align-items:center }

/* Indicador scroll */
.scroll-indicator{ position:absolute; bottom:2rem; left:50%; transform:translateX(-50%); z-index:10 }
.scroll-arrow{ width:30px; height:30px; border-right:2px solid var(--accent); border-bottom:2px solid var(--accent); transform:rotate(45deg); animation:scroll-bounce 2s infinite }
@keyframes scroll-bounce{ 0%,20%,50%,80%,100%{ transform:rotate(45deg) translateY(0) } 40%{ transform:rotate(45deg) translateY(-10px) } 60%{ transform:rotate(45deg) translateY(-5px) } }

/* ===== UTILIDADES ===== */
.kicker{ color:var(--brand); letter-spacing:.1em; text-transform:uppercase; font-size:.875rem; font-weight:700; display:flex; align-items:center; gap:var(--space-xs) }
.h1-glow{ font-weight:800; letter-spacing:-.02em; text-shadow:0 0 20px color-mix(in oklab,var(--accent) 50%,transparent) }
.text-accent-grad{ background:linear-gradient(135deg,var(--accent),var(--brand)); -webkit-background-clip:text; background-clip:text; color:transparent; font-weight:800 }
.hr-soft{ height:1px; background:var(--line); border:0; margin:var(--space-md) 0 }

/* ===== FOOTER ===== */
.nexo-footer{ border-top:1px solid var(--line); background:rgba(0,0,0,.3); padding:var(--space-xl) var(--space-md); position:relative; z-index:2 }
.footer-content{ max-width:1200px; margin:0 auto; text-align:center }
.footer-text{ color:rgba(255,255,255,.8); margin-bottom:var(--space-xs); display:flex; align-items:center; justify-content:center; gap:var(--space-xs) }
.footer-copyright{ color:rgba(255,255,255,.6) }
/* Botón para instalar la PWA en el footer */
.footer-install{
  margin-top: var(--space-sm);
  display:inline-flex;
  align-items:center;
  gap:.55rem;
  padding:.55rem 1rem;
  border-radius:999px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.03);
  color:var(--text);
  font-size:.85rem;
  font-weight:600;
  cursor:pointer;
  transition:all var(--transition-fast);
}
.footer-install i{
  font-size:.85rem;
}
.footer-install:hover{
  background:rgba(255,255,255,.10);
  border-color:color-mix(in oklab,var(--accent) 60%,transparent);
  transform:translateY(-1px);
  box-shadow:0 6px 18px rgba(0,0,0,.35);
}

/* ===== ENTRADAS/REVEAL ===== */
.fade-in{ opacity:0; transform:translateY(30px); transition:all .8s cubic-bezier(.215,.61,.355,1) }
.fade-in.visible{ opacity:1; transform:translateY(0) }

/* ===== SCROLL TO TOP ===== */
.scroll-top{
  position:fixed; bottom:100px; right:var(--space-lg); width:50px; height:50px; border-radius:50%;
  display:flex; align-items:center; justify-content:center; color:#fff; cursor:pointer; z-index:1000;
  background:linear-gradient(135deg,var(--accent),var(--brand)); box-shadow:0 8px 25px rgba(0,0,0,.3);
  opacity:0; transform:translateY(10px) scale(.9); transition:all var(--transition-normal); border:none; font-size:1.2rem
}
.scroll-top.visible{ opacity:1; transform:translateY(0) scale(1) }
.scroll-top:hover{ transform:translateY(-2px) scale(1.05); box-shadow:0 12px 35px rgba(0,0,0,.4) }

/* Barra de progreso */
.progress-bar{ height:3px; background:linear-gradient(135deg,var(--accent),var(--brand)); position:fixed; top:0; left:0; width:0%; z-index:60; transition:width .3s ease; box-shadow:0 0 10px rgba(210,178,106,.5) }

/* ===== FONDO ANIMADO ===== */
.nx-bg{ position:fixed; inset:0; z-index:0; pointer-events:none; overflow:hidden }
.nx-grad{ position:absolute; inset:-10vh; background:
  linear-gradient(180deg,var(--ink),var(--coal)),
  radial-gradient(60% 40% at 20% 20%, color-mix(in oklab,var(--brand) 20%,transparent), transparent 70%),
  radial-gradient(50% 35% at 80% 70%, color-mix(in oklab,var(--accent) 22%,transparent), transparent 70%);
  animation:grad-shift 40s ease-in-out infinite; opacity:.9 }
@keyframes grad-shift{ 0%,100%{ transform:translate3d(-1%,-.5%,0) scale(1.02) } 50%{ transform:translate3d(1%,.5%,0) scale(1) } }

.nx-fog{ position:absolute; inset:-15vh; background-image:
  radial-gradient(160px 100px at 20% 30%, rgba(255,255,255,.06), transparent 65%),
  radial-gradient(200px 140px at 75% 65%, rgba(255,255,255,.07), transparent 65%);
  background-repeat:no-repeat; background-size:45% 45%,55% 55%; animation:fog-move 70s linear infinite; opacity:.4 }
@keyframes fog-move{ 0%,100%{ background-position:0% 0%,100% 100% } 50%{ background-position:8% 5%,92% 85% } }

.nx-grid{ position:absolute; inset:0; background-image:
  repeating-linear-gradient(45deg, rgba(255,255,255,.04) 0 1px, transparent 1px 30px),
  repeating-linear-gradient(-45deg, rgba(255,255,255,.03) 0 1px, transparent 1px 35px);
  animation:grid-scroll 100s linear infinite; opacity:.12 }
@keyframes grid-scroll{ 0%{ background-position:0 0,0 0 } 100%{ background-position:150px 150px,-180px -180px } }

.nx-orbs{ position:absolute; inset:-12vh; background:
  radial-gradient(200px 200px at 12% 75%, color-mix(in oklab,var(--brand) 12%,transparent), transparent 75%),
  radial-gradient(240px 240px at 88% 18%, color-mix(in oklab,var(--accent) 12%,transparent), transparent 75%),
  conic-gradient(from 10deg at 50% 50%, rgba(255,255,255,.08) 0deg, transparent 20deg, rgba(255,255,255,.08) 40deg, transparent 60deg, rgba(255,255,255,.08) 80deg, transparent 100deg, rgba(255,255,255,.08) 120deg, transparent 140deg, rgba(255,255,255,.08) 160deg, transparent 180deg, rgba(255,255,255,.08) 200deg, transparent 220deg, rgba(255,255,255,.08) 240deg, transparent 260deg, rgba(255,255,255,.08) 280deg, transparent 300deg, rgba(255,255,255,.08) 320deg, transparent 340deg);
  mix-blend-mode:plus-lighter; animation:orbs-spin 80s linear infinite; opacity:.15; mask-image:radial-gradient(130% 130% at 50% 50%, black 50%, transparent 100%) }
@keyframes orbs-spin{ 0%{ transform:rotate(0deg) scale(1) } 50%{ transform:rotate(180deg) scale(1.05) } 100%{ transform:rotate(360deg) scale(1) } }

.nx-particles{ position:absolute; inset:0 }
.particle{ position:absolute; width:2px; height:2px; background:rgba(255,255,255,.6); border-radius:50%; animation:particle-float 20s infinite linear }
@keyframes particle-float{ 0%{ transform:translateY(100vh) translateX(0); opacity:0 } 10%{ opacity:1 } 90%{ opacity:1 } 100%{ transform:translateY(-100px) translateX(20px); opacity:0 } }

/* ===== RESPONSIVE ===== */
@media (max-width:768px){
  .nexo-container{ padding:var(--space-md) }
  .section{ padding:var(--space-lg); margin:var(--space-lg) 0 }
  .nav-toggle{ display:inline-flex }
  .nav-list{ position:absolute; right:0; top:100%; background:rgba(11,15,20,.95); border:1px solid var(--line); border-radius:var(--radius-md);
    padding:var(--space-md); min-width:240px; display:none; flex-direction:column; backdrop-filter:blur(10px); box-shadow:0 20px 40px rgba(0,0,0,.3); z-index:100 }
  .nav-list.open{ display:flex; animation:slide-down .3s ease-out }
  @keyframes slide-down{ from{ opacity:0; transform:translateY(-10px) } to{ opacity:1; transform:translateY(0) } }
  .hero-cta{ flex-direction:column; align-items:center }
  .concept-grid{ grid-template-columns:1fr }
  .scroll-top{ bottom:90px; right:var(--space-md) }
  .lol-button{ padding:.875rem 2rem; font-size:1rem; min-width:160px }
}

/* Accesibilidad */
@media (prefers-reduced-motion: reduce){
  .nx-grad,.nx-fog,.nx-grid,.nx-orbs,.hero-video,.particle,.scroll-arrow,.lol-button-shine{ animation:none }
  .card:hover,.concept-card:hover,.nav-link:hover,.lol-button:hover{ transform:none }
  .fade-in{ transition:none; opacity:1; transform:none }
}

/* Modo oscuro forzado */
@media (prefers-color-scheme: dark){ :root{ --text:#e6e6ea; --line:rgba(255,255,255,.12) } }


/* === Skeleton / Lazy === */
.is-loading { position: relative; overflow: hidden; }
.is-loading::after{
  content:""; position:absolute; inset:0;
  background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,.10), rgba(255,255,255,0));
  transform: translateX(-100%); animation: shimmer 1.25s ease-in-out infinite;
}
@keyframes shimmer{ 100%{ transform: translateX(100%) } }
.lazy-blur{ filter: blur(12px); opacity:.65; transition: filter .6s ease, opacity .6s ease }
.lazy-loaded{ filter:none; opacity:1 }

/* === Concept cards con fondo interno === */
.concept-card.has-bg{
  position: relative;
  padding: 0; /* el contenido va dentro de .card-body */
  border-radius: var(--radius-md);
  overflow: hidden;
  border: 1px solid var(--line);
  background: #0b0f14;
  isolation: isolate; /* para mezclar overlays sin afectar el resto */
}
.concept-card.has-bg .card-bg{
  position:absolute; inset:0; background-size:cover; background-position:center;
  transform: scale(1.06); filter: saturate(1.05) contrast(1.05) brightness(.9);
  transition: transform .8s ease, filter .6s ease, opacity .6s ease;
  opacity:.0; /* aparece cuando cargue */
}
.concept-card.has-bg .card-veil{
  position:absolute; inset:0;
  background: radial-gradient(120% 100% at 50% 30%, rgba(0,0,0,.25), rgba(0,0,0,.65));
  mix-blend-mode: multiply; pointer-events:none; opacity:.85;
  transition: opacity .4s ease;
}
.concept-card.has-bg .card-body{
  position:relative; z-index:1; padding: var(--space-lg);
  display:flex; flex-direction:column; gap:.65rem;
}
.concept-card.has-bg .card-kicker{
  display:inline-flex; align-items:center; gap:.5rem;
  font-weight:800; text-transform:uppercase; letter-spacing:.08em;
  font-size:.8rem; color: color-mix(in oklab, var(--brand) 85%, white 15%);
  background: rgba(255,255,255,.06); border:1px solid var(--line);
  border-radius:999px; padding:.25rem .6rem;
}
.concept-card.has-bg .card-title-xl{
  font-size:1.35rem; font-weight:1000; letter-spacing:.01em; color:#fff;
  text-shadow: 0 0 18px color-mix(in oklab, var(--accent) 30%, transparent);
}
.concept-card.has-bg .card-copy{ color: rgba(255,255,255,.9) }
.concept-card.has-bg .card-tags{ margin-top:.25rem }

/* Hover animado */
.concept-card.has-bg:hover .card-bg{ transform: scale(1.12); filter: saturate(1.1) contrast(1.1) brightness(1.0); opacity:1 }
.concept-card.has-bg:hover{ border-color: var(--accent); box-shadow: 0 12px 40px rgba(0,0,0,.25) }

/* Estado cargado (quita skeleton) */
.concept-card.has-bg.ready::after{ display:none }
.concept-card.has-bg.ready .card-bg{ opacity:1 }


/* =========================================================
   ARTEFACTOS – Cards tipo “libro” con lazy + blur-up + GIF
   ========================================================= */

.artifact-grid{
  display:grid;
  gap: var(--space-lg);
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
}

/* Card contenedor */
.artifact-card{
  --a-accent: var(--accent);
  position:relative;
  border:1px solid var(--line);
  border-radius: var(--radius-lg);
  overflow:hidden;
  background: linear-gradient(145deg, rgba(255,255,255,.035), rgba(255,255,255,.015));
  box-shadow: 0 8px 26px rgba(0,0,0,.25);
  transition: transform var(--transition-normal), box-shadow var(--transition-normal), border-color var(--transition-fast);
  display:block;
}
.artifact-card:hover{
  transform: translateY(-4px);
  border-color: color-mix(in oklab, var(--a-accent) 60%, transparent);
  box-shadow: 0 16px 46px rgba(0,0,0,.32);
}

/* Asigna acentos por dominio (card-local) */
.artifact-card[data-dominio="cenizas"]{ --a-accent:#ff7a45; }
.artifact-card[data-dominio="vientos"]{ --a-accent:#6bdcff; }
.artifact-card[data-dominio="piedra"] { --a-accent:#9aa2ad; }
.artifact-card[data-dominio="niebla"] { --a-accent:#b08cea; }
.artifact-card[data-dominio="tiempo"] { --a-accent:#e2c46f; }

/* “Libro”: dos columnas */
.artifact-inner{
  display:grid;
  grid-template-columns: 40% 1fr;
  gap: 0;
  text-decoration:none;
  color: inherit;
  position:relative;
  min-height: 220px;
}

/* Fake lomo del libro */
.artifact-card::before{
  content:"";
  position:absolute; top:0; bottom:0; left:40%;
  width:1px;
  background: linear-gradient(180deg, rgba(255,255,255,.08), transparent);
  box-shadow: inset 1px 0 0 rgba(0,0,0,.35);
  pointer-events:none;
}

/* Media (izquierda) */
.artifact-media{
  position:relative;
  overflow:hidden;
  background: radial-gradient(120% 120% at 50% 50%, rgba(255,255,255,.03), rgba(0,0,0,.2));
}

/* Skeleton shimmer mientras carga */
.artifact-skeleton{
  position:absolute; inset:0;
  background: linear-gradient(90deg, rgba(255,255,255,.06) 0%, rgba(255,255,255,.02) 40%, rgba(255,255,255,.06) 80%);
  background-size: 200% 100%;
  animation: skeleton-move 1.2s linear infinite;
  opacity:.6;
}
@keyframes skeleton-move{
  0%{ background-position: 200% 0 }
  100%{ background-position: -200% 0 }
}

/* Imagen con blur-up */
.artifact-img{
  width:100%; height:100%; object-fit:cover; display:block;
  filter: blur(12px) saturate(1.1) contrast(1.05);
  transform: scale(1.02);
  transition: filter .6s ease, transform .6s ease;
}
.artifact-img.is-loaded{
  filter: blur(0) saturate(1.02) contrast(1.02);
  transform: scale(1);
}
.is-loading .artifact-img{ opacity:.85 }

/* Badge GIF */
.gif-toggle{
  position:absolute; bottom:10px; right:10px;
  border:none; cursor:pointer;
  padding: .35rem .6rem;
  border-radius: .6rem;
  font-weight:800; font-size:.72rem; letter-spacing:.03em;
  background: linear-gradient(135deg, var(--a-accent), color-mix(in oklab, var(--a-accent) 35%, var(--brand)));
  color:#0b0f14;
  box-shadow: 0 8px 22px rgba(0,0,0,.28);
  transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}
.gif-toggle:hover{ transform: translateY(-1px); box-shadow: 0 12px 30px rgba(0,0,0,.35) }
.gif-toggle.is-playing{ filter: brightness(1.05) }

/* Info (derecha) */
.artifact-info{
  position:relative;
  padding: var(--space-lg);
  display:flex; flex-direction:column;
  gap: .6rem;
  background:
    linear-gradient(145deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
}

/* Borde superior decorativo */
.artifact-info::before{
  content:"";
  position:absolute; left: var(--space-lg); right: var(--space-lg); top:0; height:2px;
  background: linear-gradient(90deg, transparent, var(--a-accent), transparent);
  opacity:.8;
}

/* Cabecera */
.artifact-head{
  display:flex; align-items:flex-start; justify-content:space-between; gap: .75rem;
}
.artifact-domain{
  display:inline-flex; align-items:center; gap:.45rem;
  font-size:.78rem; font-weight:800; letter-spacing:.05em; text-transform:uppercase;
  padding:.28rem .6rem; border-radius:.6rem;
  background: linear-gradient(135deg, color-mix(in oklab, var(--a-accent) 65%, transparent), transparent);
  border: 1px solid color-mix(in oklab, var(--a-accent) 60%, rgba(255,255,255,.1));
  color: rgba(255,255,255,.95);
}
.artifact-title{
  font-size:1.2rem; font-weight:1000; margin:0; text-align:right;
  text-shadow: 0 0 18px color-mix(in oklab, var(--a-accent) 35%, transparent);
}

.artifact-quote{
  color: rgba(255,255,255,.9);
  font-style: italic;
  line-height:1.6;
  background: linear-gradient(145deg, rgba(255,255,255,.02), rgba(255,255,255,.0));
  border: 1px dashed rgba(255,255,255,.12);
  border-radius: var(--radius-sm);
  padding: .75rem .9rem;
}

.artifact-meta{
  display:flex; flex-wrap:wrap; gap:.5rem;
}
.chip{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.28rem .55rem; border-radius: .55rem;
  background: rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.12);
  font-size:.78rem; color: rgba(255,255,255,.92);
}
.chip i{ opacity:.9 }

/* Mini enlace acción */
.artifact-actions{
  margin-top:auto;
  color: rgba(255,255,255,.85);
}
.link-soft{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.4rem .6rem; border-radius:.6rem;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.02);
  transition: transform var(--transition-fast), border-color var(--transition-fast), background var(--transition-fast);
}
.link-soft:hover{ transform: translateY(-1px); border-color: color-mix(in oklab, var(--a-accent) 60%, transparent); background: rgba(255,255,255,.06) }

@media (max-width: 820px){
  .artifact-inner{ grid-template-columns: 1fr } /* apilar en móvil */
  .artifact-card::before{ display:none }
}



