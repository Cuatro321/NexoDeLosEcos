{% extends "base.html" %}
{% load humanize %}
{% block title %}Notas de parche{% endblock %}

{% block content %}
<section class="section">
  <h1 class="h1-glow text-3xl"><i class="fa-solid fa-screwdriver-wrench mr-2"></i> Notas de parche</h1>
  <div class="grid md:grid-cols-2 gap-5 mt-4">
    {% for a in page_obj %}
      <a class="card hover-card" href="{{ a.get_absolute_url }}">
        <div class="flex items-start justify-between gap-3">
          <div>
            <h3 class="text-xl font-semibold">{{ a.title }}</h3>
            <p class="text-white/60 text-sm mt-1">
              {% if a.version %}<span class="chip mr-2">{{ a.version }}</span>{% endif %}
              <i class="fa-regular fa-clock mr-1"></i> {{ a.publish_at|naturaltime }} · {{ a.reading_time }} min
            </p>
          </div>
          {% if a.hero_image %}
            <div class="w-28 h-16 rounded-md overflow-hidden border border-white/10">
              <img src="{{ a.hero_image.url }}" style="width:100%;height:100%;object-fit:cover">
            </div>
          {% endif %}
        </div>
        <p class="text-white/70 mt-2 line-clamp-3">{{ a.summary }}</p>
      </a>
    {% empty %}
      <p class="text-white/60">No hay notas de parche aún.</p>
    {% endfor %}
  </div>

  {% if page_obj.has_other_pages %}
  <nav class="mt-6 flex items-center gap-2">
    {% if page_obj.has_previous %}<a class="btn-ghost" href="?page={{ page_obj.previous_page_number }}">‹ Anterior</a>{% endif %}
    <span class="text-white/60">Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}</span>
    {% if page_obj.has_next %}<a class="btn-ghost" href="?page={{ page_obj.next_page_number }}">Siguiente ›</a>{% endif %}
  </nav>
  {% endif %}
</section>
{% endblock %}
